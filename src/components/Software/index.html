<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<div id="demo">
		</div>
		<script src="../../js/vue.js"></script>
		<script src="../../js/jquery.js"></script>
		<script>
			Vue.directive("in",function(el){
				$(el).css("color","red")
				console.log()
			})
			var demo = new Vue({
				el:"#demo",
				list:"",
				data:{
					name:"laoyao",
					nn:null
				},
				methods:{
					Click:function(){
						
					}
				},
				template:`
					<div>
						<input v-in v-model="name" />
						<p>{{name}}</p>
						<ul>
							<li v-for="n in nn">{{n}}</li>
						</ul>
					</div>
				`,
				beforeCreate(){
					//初始化状态
					console.log("创建前的状态")
					console.log("el",this.$el)
					console.log("data",this.$data)
					console.log("name",this.name)
					//alert("beforeCreate")
					//this==demo
				},
				created(){
					console.log("创建完毕的状态")
					console.log("el",this.$el)
					console.log("data",this.$data)
					console.log("name",this.name)
					this.name ="xioami"
					
//				console.log(this)
				self = this
				var rote = encodeURI("社交")
				var urlStr = "http://120.76.205.241:8000/mobileapp/mobile360?sort=1&catid=" + rote + "&apikey=p6LUkr1ZHWw3urhe6bXuTBIQ48ApGN5K3Xqvyiz3BWNuVeTWFWK6JVIBxJaPhuHo";
//				console.log(urlStr, index)
				this.axios.get('http://127.0.0.1:8080/agency', {
					params: {
						url: urlStr
					}
				}).then(function(response) {
					console.log(response.data, index);
					if(index == 0) {
//						console.log(self)
						data = response.data.data;
						self.list  =data.splice(0,4);	
					}	
				}).catch(function(response) {

				});
					
				},
				beforeMount(){
					console.log("挂载之前的状态")
					console.log("el",this.$el)
					console.log("data",this.$data)
					console.log("name",this.name)
					console.log($("ul"))
					//alert("beforeMount")
				},
				mounted(){
					//获取节点一般是在mounted生命周期之后获取
					console.log(this.name)
					console.log($("ul"))
					this.nn = ["a","b","c"];
					console.log("挂载完毕的状态")
					console.log("el",this.$el)
					console.log("data",this.$data)
					console.log("name",this.name)
					//alert("mounted")
				},
//				beforeUpdate(){
//					console.log("更新前的状态")
//					console.log("el",this.$el)
//					console.log("data",this.$data)
//					console.log("name",this.name)
//					//alert("beforeUpdate")
//				},
//				updated(){
//					console.log("更新后的状态")
//					console.log("el",this.$el)
//					console.log("data",this.$data)
//					console.log("name",this.name)
//					//alert("updated")
//				}
			})
			
//			demo.name = "laoxie"
//			console.log(demo)
		</script>
	</body>
</html>
